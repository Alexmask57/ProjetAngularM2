<div class="container">
  <h1>Liste des tournois</h1>

  <div *ngIf="loading == true; then displayLoading else displayTable"></div>

  <ng-template #displayLoading>
    <app-loading></app-loading>
  </ng-template>

  <ng-template #displayTable>
    <section class="list">
      <table mat-table [dataSource]="listTournoi" class="mat-elevation-z8">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>No.</th>
          <td mat-cell *matCellDef="let tournoi">{{tournoi.id}}</td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let tournoi">{{tournoi.date | date: 'shortDate'}}</td>
        </ng-container>

        <ng-container matColumnDef="nbParticipants">
          <th mat-header-cell *matHeaderCellDef>Nombre de participants</th>
          <td mat-cell *matCellDef="let tournoi">{{tournoi.nbParticipants}}</td>
        </ng-container>

        <ng-container matColumnDef="etat">
          <th mat-header-cell *matHeaderCellDef>Etat</th>
          <td mat-cell *matCellDef="let tournoi">{{tournoi.etat}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnTournoi"></tr>
        <tr mat-row *matRowDef="let row; columns: columnTournoi;" (click)="displayDetailsTournoi(row)"></tr>
      </table>
    </section>
  </ng-template>
</div>
